const STORE = {
    questions: {
     accessibility: [
       // Sameer panel
      {
       question: "Which aspect of the Preamble should they highlight in their petition to emphasize their right to fair treatment?",
       // code: `&lt;html lang="en"&gt;`,
       answers: [
        "Sovereignty",
        "Secularism",
        "Justice: social, economic, and political",
        "Liberty of thought"
       ],
       correctAnswer: "Justice: social, economic, and political"
      },{
       question: "Which part of the Preamble reflects the nation’s commitment to respecting diverse cultural practices?",
       
       answers: [
        "Secularism",
        "Fraternity",
        "Equality of status and opportunity",
        "Liberty of thought, expression, belief, faith, and worship"
       ],
       correctAnswer: "Liberty of thought, expression, belief, faith, and worship"
      },{
       question: "Which term in the Preamble would refute this claim and assert India’s complete autonomy?",
       // code: ``,
       answers: [
        "The usage of semantic HTML when structuring a page",
        "Using a lang attribute to define a page's native language",
        "Adding additional attributes for screen readers (alt, role, etc)",
        "All of these answers are accessibility best practices"
       ],
       correctAnswer: "All of these answers are accessibility best practices"
      },{
       question: "The term 'Republic' in the Preamble means:",
       // code: ``,
       answers: [
        "The head of state is elected",
        "The government is responsible to Parliament",
        "Accrued Resource Immersive Anchors",
        "The government is formed by the people"
       ],
       correctAnswer: "The government is formed by the people"
      },{
       question: "What does the Preamble of the Constitution declare India to be ?",
       // code: ``,
       answers: [
        "A Union of States",
        "A Federation of States",
        "A Confederation of States",
        " A Territory of States"
       ],
       correctAnswer: " A Territory of States"
      }
     ],
     arrays: [
      {
       question: "Which of the following ideals is NOT stated in the Preamble?",
       // code: `let arr = [2,4,6,8,10]`,
       answers: [
        "Justice",
        "Liberty",
        "Equality",
        "Integrity"
       ],
       correctAnswer: " Integrity"
      },{
       question: "Which Article of the Constitution provides for the Right to Equality?",
   //     code: `let arr = 
   // ['a','b','c','d','e']`,
       answers: [
        "Article 14",
        "Article 19",
        "Article 21",
        "Article 25"
       ],
       correctAnswer: "Article 14"
      },{
       question: "Which Fundamental Right is guaranteed under Article 21?",
   //     code: `let arr = 
   // [3,1,4,1,5,9]`,
       answers: [
        "Right to Equality",
        "Right to Freedom of Religion",
        "Right to Life and Personal Liberty",
        "Right to Property"
       ],
       correctAnswer: "Right to Life and Personal Liberty"
      },{
       question: "The Right to Constitutional Remedies is provided under which Article?",
   //     code: `let arr = 
   // [23,1,943,81,-52,3.14159]`,
       answers: [
        "Article 19",
        "Article 32",
        "Article 14",
        "Article 21"
       ],
       correctAnswer: "Article 32"
      },{
       question: "Directive Principles of State Policy (Part 4)",
   //     code: `let arr = 
   // [23,1,943,81,9,3.14159]`,
       answers: [
        "Part IV",
        "Establish a welfare state",
        "Promotion of international peace and security",
        "Article 38"
       ],
       correctAnswer: "Part IV"
      }
     ],
     elements: [
      {
       question: "Which of the following rights is NOT a Fundamental Right under the Indian Constitution?",
       // code: ``,
       answers: [
        "Right to Education",
        "Right to Property",
        "Right to Freedom of Speech",
        "Right against Exploitation"
       ],
       correctAnswer: "Right to Property;"
      },{
       question: "The Fundamental Duties were added to the Constitution by which Amendment?",
       // code: ``,
       answers: [
        "42nd Amendment",
        "44th Amendment",
        "52nd Amendment",
        "61st Amendment"
       ],
       correctAnswer: "42nd Amendment"
      },{
       question: "Which HTML element creates a line break?",
   //     code: `
   // &lt;p&gt;The quick brown fox... 
   // &lt;tag&gt;jumped over the lazy dogs&lt;/p&gt;`,
       answers: [
        "&lt;break&gt;",
        "&lt;hr&gt;",
        "&lt;lb&gt;",
        "&lt;br&gt;"
       ],
       correctAnswer: "&lt;br&gt;"
      },{
       question: "How do we create an HTML link?",
       // code: ``,
       answers: [
        "&lt;link href='test.com'&gt;Test.com&lt;/link&gt;",
        "&lt;a src='test.com'&gt;Test.com&lt;/a&gt;",
        "&lt;href url='test.com'&gt;Test.com&lt;/href&gt;",
        "&lt;a href='test.com'&gt;Test.com&lt;/a&gt;"
       ],
       correctAnswer: "&lt;a href='test.com'&gt;Test.com&lt;/a&gt;"
      },{
       question: "Which of these elements are all &lt;table&gt; elements?",
   //     code: 
   // `&lt;table&gt;
   //  ... 
   // &lt;/table&gt;`,
       answers: [
        "&lt;thead&gt;, &lt;th&gt;, &lt;cell&gt;",
        "&lt;thead&gt;, &lt;tbody&gt;, &lt;row&gt;",
        "&lt;tbody&gt;, &lt;tr&gt;, &lt;cell&gt;",
        "&lt;thead&gt;, &lt;tr&gt;, &lt;td&gt;"
       ],
       correctAnswer: "&lt;thead&gt;, &lt;tr&gt;, &lt;td&gt;"
      }
     ],
     flexbox: [
      {
       question: "What is Flexbox?",
       // code: ``,
       answers: [
        "A JavaScript library for responsive design",
        "An HTML markup allowing for flexible content",
        "An development approach to creating semantic HTML",
        "A collection of CSS properties for ease of page layouts"
       ],
       correctAnswer: "A collection of CSS properties for ease of page layouts"
      },{
       question: "To use flexbox we define a container as a flexbox. What is the CSS to do this?",
   //     code: 
   // `.flex-container {
   //  ...
   // }`,
       answers: [
        "position: flex",
        "display: flexbox",
        "float: flexbox",
        "display: flex"
       ],
       correctAnswer: "display: flex"
      },{
       question: "flex-basis defines what...?",
   //     code: 
   // `.flex-item {
   //  flex-basis: 20px;
   // }`,
       answers: [
        "The base of the flex element",
        "The margin of the flex element",
        "The boldness of the flex element",
        "The initial size of the flex element"
       ],
       correctAnswer: "The initial size of the flex element"
      },{
       question: "Which values are we able to use for flex-direction?",
   //     code: 
   // `.flex-container {
   //  flex-direction: ...
   // }`,
       answers: [
        "flex-start, flex-end, space-between, space-around",
        "start, center, end, space-evenly",
        "horizontal, vertical, reverse-horizontal, reverse-vertical",
        "row, row-reverse, column, column-reverse"
       ],
       correctAnswer: "row, row-reverse, column, column-reverse"
      },{
       question: "What does the css property order for flex items allow you to do?",
   //     code: 
   // `.flex-item {
   //  order: ...
   // }`,
       answers: [
        "Specify the direction that flex items appear",
        "Define when each flex item is loaded",
        "Sort flex items by different values (alphabetical, numerical)",
        "Specify which order the flex items appear"
       ],
       correctAnswer: "Specify which order the flex items appear"
      }
     ],
     forms: [
      {
       question: "What are considered the two most important attributes for a form?",
   //     code: `
   // &lt;form ...&gt;
   // &lt;/form&gt;`,
       answers: [
        "lang, process",
        "before, after",
        "id, class",
        "method, action"
       ],
       correctAnswer: "method, action"
      },{
       question: "What are the some of the most popular &lt;input&gt; types?",
       // code: `&lt;input type='...'&gt;`,
       answers: [
        "css, target, label",
        "auto, keyboard, mouse",
        "text, include, exclude",
        "text, checkbox, button"
       ],
       correctAnswer: "text, checkbox, button"
      },{
       question: "Which attribute of an input does the label for attribute relate to?",
   //     code: 
   // `&lt;label for=...&gt;&lt;/label&gt;
   // &lt;input ...&gt;`,
       answers: [
        "role",
        "value",
        "type",
        "id"
       ],
       correctAnswer: "id"
      },{
       question: "Which attribute of an input type of radio links them together to ensure only one is selected?",
       // code: `&lt;input type='radio' ...&gt;`,
       answers: [
        "role",
        "value",
        "id",
        "name"
       ],
       correctAnswer: "name"
      },{
       question: "What is the difference between the GET and POST methods?",
   //     code: `
   // &lt;form method='get'&gt;
   // &lt;form method='post'&gt;`,
       answers: [
        "The GET method simply retrieves data while POST can send and receive",
        "The POST method simply submits data while GET can send and receive",
        "The POST method is used for different database types",
        "The GET method sends all information in the URL"
       ],
       correctAnswer: "The GET method sends all information in the URL"
      }
     ],
   //   Faiza panel
     loops: [
      {
       question: "How many Fundamental Duties are listed in the Indian Constitution?",
   
       
       
       answers: [
            "9",
           "10",
           "11",
           "12",
       ],
       correctAnswer: "11" ,
      },{
       question: "Which of the following is a Fundamental Duty according to the Indian Constitution?",
   
       
       answers: [
           "Right to Privacy",
           "Right to Constitutional Remedies",
           "To cherish and follow the noble ideals which inspired our national struggle for freedom",
           "Right to Freedom of Speech and Expression",
           
       ],
       correctAnswer:"To cherish and follow the noble ideals which inspired our national struggle for freedom",
   
      },{
       question: "The Fundamental Duties are enshrined in which Article of the Indian Constitution?",
   
   
       
       answers: [
           " Article 48A",
           "Article 51A",
           "Article 52",
           "Article 54",
           
       ],
       correctAnswer: "Article 51A",
      },{
       question: "Which of the following is NOT a Fundamental Duty?",
   
       answers: [
           "To uphold and protect the sovereignty, unity, and integrity of India",
           "To develop scientific temper, humanism, and the spirit of inquiry and reform",
           "To pay taxes honestly",
           "To safeguard public property and to abjure violence",
           
       ],
       correctAnswer: "To pay taxes honestly",
   
      },{
       question:
       "The Fundamental Duties were added to the Constitution by which Amendment?",
       
       
   
       answers: [
           "42nd Amendment",
           " 44th Amendment",
           "52nd Amendment",
           "61st Amendment",
       ],
       correctAnswer: "42nd Amendment",
   
      }
     ],
     methods: [
      {
       question: "Which Article provides for the organization of village panchayats?",
   
   
       answers: [
        
   "Article 40",
   "Article 42",
   "Article 43",
   " Article 44",
   
       ],
       correctAnswer:"Article 40",
   
      },{
       question: "Which Article of the Constitution states that the State shall strive to promote the welfare of the people by securing a social order permeated by justice?",
       answers: [
           " Article 36",
           "Article 37",
           "Article 38",
           "Article 39",
           
       ],
       correctAnswer: "Article 38",
   
      },{
       question: "Which of the following is a Directive Principle under the Indian Constitution?",
   
   
       answers: [
        
   "Right to Education",
   "Promotion of international peace and security",
   "Right to Freedom of Speech",
   "Right to Constitutional Remedies",
   
       ],
       correctAnswer:"Promotion of international peace and security",
   
      },{
       question: "Directive Principles of State Policy aim to:",
   
       answers: [
           "Ensure fundamental rights",
           "Establish a welfare state",
           "Ensure judicial independence",
           "Define government structure",
           
       ],
       correctAnswer:"Establish a welfare state",
   
      },{
       question: 
       "Which part of the Constitution contains the Directive Principles of State Policy?",
       
       
       answers: [
           "Part I",
           "Part II",
           "Part IV",
       
           "Part V",
           
       ],
       correctAnswer: "Part IV",
      },{
   
      
       question: "Which of the following rights is NOT a Fundamental Right under the Indian Constitution?",
   
       
       answers: ["Right to Education",
            "Right to Property",
           "Right to Freedom of Speech",
           "Right against Exploitation",
           
        
       ],
       correctAnswer: "Right to Property",
      
   
       question: "The Right to Constitutional Remedies is provided under which Article?",
   
       answers: [
           "Article 19",
           "Article 32",
           "Article 14",
           "Article 21",
           
       ],
       correctAnswer:"Article 32",
      
       question: "Which Fundamental Right is guaranteed under Article 21?",
   
       answers: [
           "Right to Equality",
           "Right to Freedom of Religion",
           "Right to Life and Personal Liberty",
           "Right to Property",
       ],
       correctAnswer: "Right to Life and Personal Liberty",
      
       question: "Which Article of the Constitution provides for the Right to Equality?",
   
       answers:[
   
       "Article 14",
       "Article 19",
       "Article 21",
       "Article 25",
       
       ],
       correctAnswer: "Article 14",
      }
     ]
    }
   };
   
   
   // Make the quiz. Create a model for our app's state
   function makeQuiz(){
       // Creating an object to store the app's state when beginning the quiz
       return {
           // Gathering a random question out of the available questions for each category
           questions: helpers.getRandomQuestions(STORE),
           // Boolean for if the quiz is in progress or not
           midQuiz: false,
           // Array of correct/incorrect answers to use for our progress bar
           progress: {
               progressBar: [],
               incorrectCategories: []
           },
           // Boolean to determine if the end state should display
           completed: false,
           // Monitoring which question we are currently on
           currentQuestion: 0,
           // Keeps track of total correct answers
           correctAnswers: 0,
           // Keeps current selected answer
           currentAnswer: "",
           // Keeps track of % completed
           percCorrect: 0
       }
   }
   
   // Apply fadeOut animations and set the stage for DOM text/element changes
   function $fade(appState){
   
       // This is the completed state of of a quiz
       if(appState.completed){
           
           // Fade out elements with a promise to avoid choppy behavior
           $.when($('.question-answer-wrapper, .question-wrapper, .answer-wrapper').fadeOut(500))
               .done(function(){
   
                   // Display results of the quiz
                   $showResults(appState);
                   $('.results-wrapper').hide().removeClass('hide');
                   $('.question-answer-wrapper, .results-wrapper').fadeIn(500);
           });
   
       // This is if the app is just starting
       } else if(appState.midQuiz === false){
   
           // Set a flag that the app has begun
           appState.midQuiz = true;
           // Fade out elements with a promise to avoid choppy behavior
           $.when($('.question-answer-wrapper, .question-wrapper, .code, .answer-wrapper, .start-quiz, .quit-quiz, .results-wrapper, .progress, .progress-bar').fadeOut(500))
               .done(function(){
                   // Remove any progress from a previous quiz (if any);
                   helpers.updateProgressBar(appState);
                   $('.progress-count').html('1 / 10');
                   $('.progress-perc').html('');
                   // Kill previous results
                   $('.failures').remove();
                   // Lots to do... mostly just setting up a new environment for a new quiz
                   $updateQuestion(appState);
                   $('progress-bar').empty();
                   $('progress-fill').html('Progress: <span class="progress-count">1 / 10</span><span class="progress-perc"></span>');
                   $('.question-answer-wrapper, .answer-wrapper').removeClass('begin');
                   $('.submit-btn, .progress, .progress-bar').removeClass('hide');
                   $('.progress, .progress-bar').hide();
                   $('.question-answer-wrapper, .question-wrapper, .answer-wrapper, .progress, .progress-bar').fadeIn(500);
                   if(!$('.code').hasClass('hide')){$('.code').fadeIn(500)};
           });
   
       // This is if the app is in the middle of execution
       } else if(appState.midQuiz){
           $.when($('.question-answer-wrapper, .question-wrapper, .answer-wrapper').fadeOut(500))
               .done(function(){
                   $updateQuestion(appState);
                   $('.question-answer-wrapper, .question-wrapper, .answer-wrapper').fadeIn(500);
           });
       }
   }
   
   // Work in progress...
   function $showResults(appState){
       if(appState.correctAnswers === 7){
           let endMsg = `You got ${appState.percCorrect}% correct!
   I have nothing else to teach you. Move on and prosper!
   `;
       } else {
           $('.answer-btn').remove();
           let endMsg = `You got ${appState.percCorrect}% correct!`
           let endFeedback = ``;
           if(appState.progress.incorrectCategories.length === 0){
               endFeedback = `You aced it! Good job!`;
           } else {
               endFeedback = `You may want to study up on the following categories:`;
           }
           
           $('.quiz-end-score').html(endMsg);
           let $failList = $('<ul class="failures"></ul>');
           appState.progress.incorrectCategories.map((cat => {
               $failList.append("<li class='category'>" + cat + "</li>");
           }));
           $('.quiz-end-feedback-p').html(endFeedback);
           $('.quiz-end-categories').append($failList);
           $('.results-wrapper').removeClass('hide').css('display', 'flex');
           $('.question-answer-wrapper, .results-wrapper, .quiz-end-feedback, .quiz-end-score, .retry-btn').css('display', 'flex').fadeIn(500);		
       }
   
   }
   
   // Update the question, code, answers, buttons in the DOM while we're in a faded out state
   function $updateQuestion(appState){
       $('.answer-btn').remove();
   
       // Update the question and code text with the current question
       $('.question').html(appState.questions[appState.currentQuestion].question);
   
       // This is a hack to hide/show the code portion
       // Only 1/3 of the questions contain code so we hide it if they aren't present
       if(appState.questions[appState.currentQuestion].code == ``){
           $('.code').addClass('hide');
       } else {
           $('.code').removeClass('hide');
           $('.code').html(`<pre>${appState.questions[appState.currentQuestion].code}</pre>`);
       }
       
       // Change continue back to submit
       $('.continue-btn')
           .val("Submit")
           .removeClass('continue-btn')
           .addClass('submit-btn')
           .prop('disabled', true);
   
       // Add in available answers for the question
       let $answers = [];
   
       // Adding the answers to a temporary array
       for(let i=0; i<appState.questions[appState.currentQuestion].answers.length; i++){
   
           // Add current question answers to an array
           let $answer = $('<button class="answer-btn" type="button"></button>');
           $answer.html(appState.questions[appState.currentQuestion].answers[i]);
           $answers.push($answer);
       }
   
       // Shuffle the answers
       helpers.shuffleAnswers($answers)
   
       // Push answers to the DOM
       $answers.forEach((answer) => {
           $('.answer-wrapper').prepend(answer);
       });
   }
   
   // Simple class and enable/disable DOM selection when answer is selected
   function selectAnswer(answer){
       $('.answer-btn').removeClass('selected');
       answer.addClass('selected');
       $('.submit-btn').prop('disabled', false);
   }
   
   // Answer is selected and submitted
   // Push a feedback state
   function submitAnswer(appState){
   
       // This will be returned true or false based on their answer
       let correct;
   
       // Add styles to the answers to show if their answer was correct or not
       $('.answer-btn').each(function () {
           if($(this).html() === appState.questions[appState.currentQuestion].correctAnswer){
               $(this).addClass('pass');
               // If answer is correct and selected...
               if($(this).hasClass('selected')){
                   correct = "pass";
                   appState.correctAnswers++;
                   appState.questions[appState.currentQuestion];
               }
   
           // Handle correct answer if selected answer is incorrect
           } else if ($(this).hasClass('selected')){
               $(this).addClass('fail dim-answer');
               correct = "fail";
               appState.progress.incorrectCategories.push(appState.questions[appState.currentQuestion].category);
   
           // Dim the other answers to make the correct one more prevalent
           } else {
               $(this).addClass('dim-answer');
           }
       });
   
       // Add a progress bar indicator to our appState object
       appState.progress.progressBar.push(`<div class="progress-indicator ${correct}"></div>`);
       
       // Update our percent correct (parse a float and set it to a fixed percentage)
       appState.percCorrect = parseFloat(appState.correctAnswers / (appState.currentQuestion + 1) * 100).toFixed();
   
       // Update our current question VS total quiz length
       $('.progress-count').html(`
           ${appState.currentQuestion + 1} / ${appState.questions.length}
       `);
   
       // Update our current correct percentage
       $('.progress-perc').html(`
            // ${(appState.percCorrect)}% Correct
       `)
   
       // Change submit back to continue
       $('.submit-btn')
           .val("Continue")
           .removeClass('submit-btn')
           .addClass('continue-btn')
   
       // Disable selecting answers
       $('.answer-btn').prop("disabled", true);
   
       // Update our progress-bar DOM
       helpers.updateProgressBar(appState);
   
       // Continue to next question
       appState.currentQuestion++;
   
       // Verify if we're done or not
       if(appState.currentQuestion === appState.questions.length){
           appState.completed = true;
       }
       
   }
   
   // Silly easter egg for saying you don't want to do the quiz
   function killQuiz(){
       $('.start-quiz, .quit-quiz').hide();
       let failureMsg = "You didn't grow. You didn't improve. You took a shortcut and gained nothing. You experienced a hollow victory. Nothing was risked and nothing was gained. It's sad you don't know the difference..."
       let msgSplit = failureMsg.split(" ");
       let counter = 0;
       $('.question').empty();
       let startTroll = setInterval(function () {
           $('.question').append(msgSplit[counter] + " ");
           counter++;
           if(counter > msgSplit.length - 1){
                 clearInterval(startTroll);
                 $('.start-quiz').text('You can do it! Start Quiz').fadeIn(500);
           }
       }, 250);
   }
   
   // These are simple algorithms to modify data that don't need an individual function
   let helpers = {
       // Pick a random question from the available ones
       pickRandomQ: function(obj,section){
           return Math.floor(Math.random() * obj.questions[section].length);		
       },
       // Gather a random question from every category
       getRandomQuestions: function(obj){
           let questions = [];
           let categories = Object.keys(obj.questions);
           categories.forEach((cat) => {
               let randomQ = this.pickRandomQ(obj,cat);
               let question = obj.questions[cat][randomQ];
               question.category = cat;
               questions.push(question);
           });
           return questions;
       },
       // Shuffle the answers so they don't appear in the same order
       shuffleAnswers: function(arr){
           for (var i = arr.length - 1; i > 0; i--) {
               var j = Math.floor(Math.random() * (i + 1));
               var temp = arr[i];
               arr[i] = arr[j];
               arr[j] = temp;
           }
       },
       // Update progress bar DOM element
       updateProgressBar: function(appState){
           $('.progress-bar').empty();
           appState.progress.progressBar.forEach((progInd => {
               $('.progress-bar').append(progInd);
           }))
       }
   }
   
   // Lets start the show
   $(function(){
   
       // Kill any form refresh
       $('.answer-wrapper').on('submit', function(e){
           e.preventDefault();
       });
   
       // Storage for quiz app state
       let quizData;
   
       // Start quiz
       $('.start-quiz, .retry-btn').on('click', function(){
           quizData = makeQuiz();
           $fade(quizData);
       });
   
       // Select an answer
       $('.question-answer-wrapper').on('click', '.answer-btn', function(){
           selectAnswer($(this));
       })
   
       // Submit your answer to display feedback and advance question counter
       $('.question-answer-wrapper').on('click', '.submit-btn', function(e){
           submitAnswer(quizData);
       });
   
       // Submit your answer to display feedback and advance question counter
       $('.question-answer-wrapper').on('click', '.continue-btn', function(){
           $fade(quizData);
       });
   
       // Easter egg to chastize the user
       $('.quit-quiz').on('click', function(){
           killQuiz();
       })
   })
   